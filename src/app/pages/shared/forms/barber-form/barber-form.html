<mat-dialog-content class="flex flex-col gap-4 p-2 relative">
  <mat-spinner *ngIf="isLoading" diameter="40"
    class="!absolute !top-1/2 !left-1/2 !-translate-x-1/2 !-translate-y-1/2 z-100"></mat-spinner>
  <div class="!text-2xl !text-purple-700 !p-2 flex flex-col gap-3 ">
    {{ data ? 'Editar Empleado' : 'Nuevo Empleado' }}
    <mat-divider></mat-divider>
  </div>
  <div class="flex flex-wrap gap-5" [ngClass]="isLoading ? 'opacity-50' : ''">
    <div class="w-full md:w-[37%]">
      <label class="mb-1 text-xs text-gray-600">Nombre del Empleado <span class="text-red-500">*</span></label>
      <mat-form-field class="w-full">
        <input matInput required [(ngModel)]="new.name" placeholder="Nombre completo">
      </mat-form-field>
    </div>
    <div class="w-full md:w-[27%]">
      <label class="mb-1 text-xs text-gray-600">DNI <span class="text-red-500">*</span></label>
      <mat-form-field class="w-full">
        <input matInput required [(ngModel)]="new.dni" placeholder="Documento de identidad">
      </mat-form-field>
    </div>
    <div class="w-full md:w-[27%]">
      <label class="mb-1 text-xs text-gray-600">Teléfono</label>
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="new.phone" placeholder="Número de contacto">
      </mat-form-field>
    </div>
    <div class="w-full md:w-[30%]">
      <label class="mb-1 text-xs text-gray-600">Correo</label>
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="new.email" placeholder="Correo electrónico">
      </mat-form-field>
    </div>
    <div class="w-full md:w-[30%]">
      <label class="mb-1 text-xs text-gray-600">Dirección</label>
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="new.address" placeholder="Dirección de residencia">
      </mat-form-field>
    </div>
    <div class="w-full md:w-[31%]">
      <label class="mb-1 text-xs text-gray-600">Fecha Ingreso</label>
      <mat-form-field class="w-full">
        <input matInput [matDatepicker]="picker" [(ngModel)]="new.hire_date" placeholder="Selecciona fecha">
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
  </div>

  <h1 class="primary !text-lg my-5">Información del cargo</h1>
  <div class="flex flex-wrap gap-5" [ngClass]="isLoading ? 'opacity-50' : ''">
    <div class="w-full md:w-[30%]">
      <label class="mb-1 text-xs text-gray-600">Cargo</label>
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="new.position" placeholder="Nombre del cargo">
      </mat-form-field>
    </div>
    <div class="w-[50%] md:w-[25%] sm:w-[50%] xs:w-[50%]">
      <label class="mb-1 text-xs text-gray-600">Salario base</label>
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="new.base_salary" type="number" placeholder="$000">
      </mat-form-field>
    </div>
    <div class="w-[40%] md:w-[30%] sm:w-[50%] xs:w-[50%]">
      <label class="mb-1 text-xs text-gray-600">Porcentaje comisión</label>
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="new.commission_rate" type="number" min="0" max="100" placeholder="0%">
      </mat-form-field>
    </div>
  </div>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <div class="flex justify-end p-2 gap-3 mt-8">
    <button matButton="outlined" class="!rounded-lg" (click)="onClose()">Cancelar</button>
    <button mat-flat-button class="!rounded-lg" color="primary" [disabled]="isLoading" (click)="onSave()">
      {{ data ? 'Guardar Cambios' : 'Crear Empleado' }}
    </button>
  </div>

</mat-dialog-actions>